<!DOCTYPE html>
<html ng-app="destinyApp">
  <head>
    <meta charset="utf-8">
    <title>Destiny App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
  </head>
  <body ng-controller="AppController as appctrl" ng-cloak>
    {{appctrl.message}}

    <form>
      <label>
        <input type="text" ng-model="appctrl.playerName">
      </label><br>
      <label>
        Xbox 1 <input type="radio" ng-model="appctrl.consoleId" value="1">
      </label><br>
      <label>
        PS4 <input type="radio" ng-model="appctrl.consoleId" value="2">
      </label><br>
        <button ng-click="appctrl.getInfo(appctrl.playerName)">Submit</button>
    </form>

    <section id="infoContainer" ng-show="{{appctrl.hide}}">
      <h2><strong>{{appctrl.info.displayName}}</strong></h2>
      <h4><strong>Grimoire:</strong> {{appctrl.info.grimoireScore}}</h4>
      <h4><strong>Total Time Wasted on Destiny:</strong> {{appctrl.info.cumulativeTimeOnAllCharacters}}</h4>
      <section class="char-container">
        <div ng-repeat="char in appctrl.info.characters">
          <div class="banner" style="background-image: url(https://www.bungie.net{{char.backgroundPath}})"><img src="https://www.bungie.net{{char.emblemPath}}"></div>
          <div><strong>Character            :</strong> {{char.className}}</div>
          <div><strong>K/D Ratio            :</strong> {{char.killsDeathsRatio}}</div>
          <div><strong>Best Weapon          :</strong> {{char.weaponBestType}}</div>
          <div><strong>W/L Ratio            :</strong> {{char.winLossRatio}}</div>
          <div><strong>Combat Rating        :</strong> {{char.combatRating}}</div>
          <div><strong>Crucible Time Played :</strong> {{char.timePlayedCrucible}}</div>
          <div><strong>Character Time Played:</strong> {{char.totalTimePlayed}}</div>
          <br>
        </div>
      </section>
  </section>

    <script src="./bundle.js"></script>
  </body>
</html>
