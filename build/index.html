<!DOCTYPE html>
<html ng-app="destinyApp">
  <head>
    <meta charset="utf-8">
    <title>Destiny App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
  </head>
  <body ng-controller="AppController as appctrl" ng-cloak>
    <div id="wrapper">

      <div id="header">
        {{appctrl.message}}
        <form>
          <label>
            <input type="text" ng-model="appctrl.playerName">
          </label><br>
          <label>
            Xbox 1 <input type="radio" ng-model="appctrl.consoleId" value="1">
          </label><br>
          <label>
            PS4 <input type="radio" ng-model="appctrl.consoleId" value="2">
          </label><br>
          <button ng-click="appctrl.getInfo(appctrl.playerName)">Submit</button>
        </form>
      </div>

      <div id="content">
        <section id="info-container" ng-show="{{appctrl.hide}}">
          <h2><strong>{{appctrl.info.displayName}}</strong></h2>
          <h4><strong>Grimoire:</strong> {{appctrl.info.grimoireScore}}</h4>
          <h4><strong>Total Time Wasted on Destiny:</strong> {{appctrl.info.cumulativeTimeOnAllCharacters}}</h4>
          <section id="char-container">
            <div class="info-section" ng-repeat="char in appctrl.info.characters">
              <div class="banner" style="background-image: url(https://www.bungie.net{{char.backgroundPath}})"><img src="https://www.bungie.net{{char.emblemPath}}"></div>
              <p><strong>Character            :</strong> {{char.className}}</p>
              <p><strong>K/D Ratio            :</strong> {{char.killsDeathsRatio}}</p>
              <p><strong>Best Weapon          :</strong> {{char.weaponBestType}}</p>
              <p><strong>W/L Ratio            :</strong> {{char.winLossRatio}}</p>
              <p><strong>Combat Rating        :</strong> {{char.combatRating}}</p>
              <p><strong>Crucible Time Played :</strong> {{char.timePlayedCrucible}}</p>
              <p><strong>Character Time Played:</strong> {{char.totalTimePlayed}}
                <button id="graph-button" ng-click="appctrl.makeChart(char.timePlayedCrucibleInt, char.totalTimePlayedInt)">details</button>
              </p>
              <div class="chart-container" ng-hide="true">
                <button type="button" name="button" ng-click="appctrl.hideChart()">hide</button>
                <canvas class="myChart" width="400" height="400"></canvas>
              </div>
              <br>
            </div>
          </section>
        </section>
      </div>

      <div id="footer">
        <footer>
          <p>The idea for this project was born from the love of Bungie's game Destiny. I wanted to make something for the community and show off what I've learned, culminating as this project. Updated 2016. Check out the github repo <a href="https://github.com/Ho-Luc/destiny-app">here</a>.</P>
        </footer>
      </div>

    <div>

    <script src="./bundle.js"></script>
  </body>
</html>
